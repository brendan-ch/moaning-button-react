(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(n,e,t){n.exports=t.p+"static/media/moaning-sound.4c999de4.mp3"},36:function(n,e,t){n.exports=t(81)},41:function(n,e,t){},47:function(n,e,t){},78:function(n,e){},81:function(n,e,t){"use strict";t.r(e);var o=t(0),a=t.n(o),c=t(28),i=t.n(c),r=(t(41),t(11)),s=t(29),l=t(30),u=t(35),p=t(34),d=t(31),g=t.n(d),m=(t(47),t(32)),h=t.n(m),f=t(33),v=t.n(f)()("https://moaning-button.herokuapp.com"),k=function(){v.connect()},A=function(){v.disconnect()},y=function(n){v.emit("moanIn",n)};function C(n){var e=n.appearance,t=n.connected,o=n.connecting,c=n.count,i=n.onConnectDisconnect,r=n.onAppearanceChange;return a.a.createElement("header",{className:"App-bottom",style:{backgroundColor:"dark"===e?"black":"white"}},a.a.createElement("div",{className:"Status"},a.a.createElement("p",{style:{color:"dark"===e?"white":"black",marginRight:8}},t?2===c?"You are in the moaning room with 1 other person.":"You are in the moaning room with "+(c-1)+" other people.":o?"Joining the moaning room... ":"You are not in the moaning room."),a.a.createElement("p",{className:"Small-button",onClick:i},t?"Leave":"Join")),a.a.createElement("p",{className:"Small-button",onClick:r},"dark"===e?"Light mode":"Dark mode"))}var w=function(n){Object(u.a)(t,n);var e=Object(p.a)(t);function t(n){var o;return Object(s.a)(this,t),(o=e.call(this))._onConnect=function(){o.setState({connected:!0,connecting:!1}),console.log("Connected to moaning room.")},o._onDisconnect=function(){o.setState({connected:!1}),console.log("Disconnected from moaning room.")},o._onConnectDisconnect=function(){o.state.connected?A():(o.setState({connecting:!0}),k())},o._onMoan=function(n){o.playing.push({id:Math.round(1e8*n).toString(),status:"PLAYING",position:0}),console.log("uuuuuuuuuuuaUAAAAAAAAAAAAAAAHHHHh"),console.log(n),n>.999&&window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ","_blank"),o.forceUpdate()},o._onUpdateCount=function(n){o.setState({count:n}),console.log("Updated count to ".concat(n))},o._onAppearanceChange=function(){o.setState({appearance:"light"===o.state.appearance?"dark":"light"}),localStorage.setItem("appearance","light"===o.state.appearance?"dark":"light"),console.log("Changed appearance.")},o.state={appearance:localStorage.getItem("appearance")||"light",connected:!1,connecting:!0,count:0},o.playing=[],o}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var n,e,t,o;n=this._onConnect,e=this._onDisconnect,t=this._onMoan,o=this._onUpdateCount,console.log("Doing stuff"),v.on("connect",(function(){n(),console.log("Connected to server.")})),v.on("disconnect",(function(){e(),console.log("Disconnected from server.")})),v.on("updateCount",(function(n){o(n)})),v.on("moanOut",(function(n){t(n),console.log("Moan value:",n)})),k()}},{key:"render",value:function(){var n=this;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header",style:{backgroundColor:"dark"===this.state.appearance?"black":"white"}},a.a.createElement("div",{className:"Button",onClick:function(){var e=Math.random();n.state.connected?y(e):n._onMoan(e)}},a.a.createElement("p",{className:"Button-text"},"do the moan"))),a.a.createElement(C,{appearance:this.state.appearance,connected:this.state.connected,connecting:this.state.connecting,count:this.state.count,onAppearanceChange:this._onAppearanceChange,onConnectDisconnect:this._onConnectDisconnect}),this.playing.map((function(e){return a.a.createElement(g.a,{url:h.a,playStatus:e.status,position:e.position,onPlaying:function(t){var o=n.playing.findIndex((function(n){return n.id===e.id}));n.playing[o]=Object(r.a)(Object(r.a)({},n.playing[o]),{},{position:t.position})},onFinishedPlaying:function(){var t=n.playing.findIndex((function(n){return n.id===e.id}));n.playing.splice(t,1),console.log("Modified playing state"),console.log(n.playing),0===n.playing.length&&n.forceUpdate()}})})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.ca388336.chunk.js.map